os: linux
dist: bionic
language: cpp

cache: # see https://docs.travis-ci.com/user/caching/
  - directories:
    - $HOME/.cache
  
addons:
  apt:
    sources:
      - george-edison55-precise-backports
    packages:
      - cmake-data
      - cmake
      - libswscale-dev
      - libavformat-dev
      - libavcodec-dev
      - libavutil-dev
      
script: ./build_and_install.sh

git:
  depth: 1
  quiet: true

deploy:
  provider: pages
  skip_cleanup: true
  github_token: $GITHUB_TOKEN  # set as env variable in the travis build settings page
  keep_history: true
  on:
    branch: master
